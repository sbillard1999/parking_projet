/******************************************************************************/
/*				   Classe réalisée par Piat Solène							  */
/*							Classe Capteur									  */
/*																			  */
/******************************************************************************/
//---------------------------------------------------------------------------

#pragma hdrstop

#include "Capteur.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)

Capteur::Capteur(int CapteurPin, int LedPresence, int LedAbsence)
{
    pinMode(CapteurPin, INPUT); //entrée pour le capteur
    pinMode(LedPresence, OUTPUT); //sortie qui indique la présence d'un objet
    pinMode(LedAbsence, OUTPUT); //sortie qui indique l'absence d'un objet
}
//------------------------------------------------------------------------------

void Capteur::objet()
{
     if(digitalRead(CapteurPin) == LOW) // si le capteur repère un obstacle
    {
        digitalWrite(LedPresence, HIGH); //allume la LED de présence
		digitalWrite(LedAbsence, LOW); //éteint la LED d'absence
        EtatCapteur = true;
		cout << "Présence d'un véhicule" << endl;
	}
	else
	{
		digitalWrite(LedPresence, LOW); //éteint la LED de présence
		digitalWrite(LedAbsence, HIGH); //allume la LED d'absence
		EtatCapteur = false;
		cout << "Absence de véhicule" << endl;
     }
}
//------------------------------------------------------------------------------


